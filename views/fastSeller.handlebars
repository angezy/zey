<div class="row">
    {{#each fastSellers}}
    <div class="col-md-4 p-2">
        <div class="card card-profile">
            <div class="row justify-content-center">
            </div>
            <div class="card-header text-center border-0 pt-0 pt-lg-2 pb-4 pb-lg-3">
                <div class="d-flex justify-content-between">
                    <a href="mailto:{{this.Email}}"
                    class="btn btn-sm btn-dark float-right mb-0 d-none d-md-block">
                        Email <i class="ni ni-email-83"></i>
                    </a>
                    <a href="sms:{{this.CellPhone}}" 
                    class="btn btn-sm btn-dark float-right mb-0 d-block d-md-block">
                        SMS <i class="ni ni-send"></i>
                    </a>
                    <a href="tel:{{this.CellPhone}}" 
                    class="btn btn-sm btn-dark float-right mb-0 d-block d-md-block">
                        Call <i class="fa-solid fa-phone"></i></a>
                </div>
            </div>
            <div class="card-body pt-0">
                <div class="row">
                    <div class="col">
                        <div class="d-flex justify-content-center">
                            <div class="d-grid text-center">
                                <p class="btn btn-sm btn-dark float-right mb-0 d-block d-md-block"
                                    data-bs-toggle="tooltip" data-bs-placement="top" title={{this.FundingInPlace}}
                                    data-container="body" data-animation="true">Cash</p>
                            </div>
                            <div class="d-grid text-center">
                                <p class="btn btn-sm btn-dark float-right mb-0 d-block d-sm-block "
                                    data-bs-toggle="tooltip" data-bs-placement="top" title={{this.ProofOfFunds}}
                                    data-container="body" data-animation="true">Proof</p>
                            </div>
                            <div class="d-grid text-center">
                                <p class="btn btn-sm btn-dark float-right mb-0 d-block d-md-block"
                                    data-bs-toggle="tooltip" data-bs-placement="top" title="{{this.Quickly}}"
                                    data-container="body" data-animation="true">Quickly</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-4">
                    <h5>
                        {{this.FullName}}<span class="font-weight-light">, {{this.YearsInBusiness}}</span>
                    </h5>
                    <div class="h6 font-weight-300">
                        <i class="ni location_pin mr-2"></i>{{this.PriceRanges}}
                    </div>
                    <div class="h6 mt-4">
                        <i class="ni business_briefcase-24 mr-2"></i>{{this.PreferredAreas}}
                    </div>
                    <div>
                        <i class="ni education_hat mr-2"></i>{{this.AvoidedAreas}}
                    </div>

                    <div class="h6 mt-4">
                        <i class="ni business_briefcase-24 mr-2"></i>{{this.PropertyType}}
                    </div>

                    <div class="h6 mt-4">
                        <i class="ni business_briefcase-24 mr-2"></i>{{this.WorkType}}
                    </div>

                    <div class="h6 mt-4">
                        <i class="ni business_briefcase-24 mr-2"></i>{{this.InvestmentStrategy}}
                    </div>

                    <a href="javascript:;" data-id="{{this.fastSellID}}" class="fastsell-detail btn btn-sm btn-primary">
                        Detail <i class="ni ni-collection"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    {{/each}}
</div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>const fastSellers = {{{ json fastSellers }}};
    document.addEventListener('DOMContentLoaded', function () {
        console.log('fastSellers:', fastSellers); // Verify array is loaded
        document.querySelectorAll('.fastsell-detail').forEach(button => {
            button.addEventListener('click', function () {
                const fastSellID = this.getAttribute('data-id');
                console.log('Clicked Fast Sell ID:', fastSellID);

                const fastSellData = fastSellers.find(item => String(item.fastSellID) === String(fastSellID));
                if (fastSellData) {
                    console.log('Found Fast Sell Data:', fastSellData);

                    let tableHTML = '<table class="table table-bordered">';
                    tableHTML += '<thead><tr><th>Field</th><th>Value</th></tr></thead><tbody>';
                    for (const [key, value] of Object.entries(fastSellData)) {
                        tableHTML += `<tr><td>${key}</td><td>${value}</td></tr>`;
                    }
                    tableHTML += '</tbody></table>';

                    Swal.fire({
                        title: 'Fast Sell Details',
                        html: tableHTML,
                        icon: 'info',
                        confirmButtonText: 'Close',
                        width: '80%',
                    });
                } else {
                    Swal.fire({
                        title: 'Error',
                        text: `Fast Sell data not found for ID: ${fastSellID}`,
                        icon: 'error',
                        confirmButtonText: 'Close',
                    });
                }
            });
        });
    });
</script>
